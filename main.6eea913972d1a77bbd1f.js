(()=>{"use strict";var e={};function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var r=n.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();var r=function(){function e(t,r,o){var i=this,c=t.name,l=t.link;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n(this,"generateCard",(function(){return i._newCardPhoto.src=i._link,i._newCardPhoto.alt=i._name,i._newCardTitle.textContent=i._name,i._setEventListeners(),i._cardElement})),n(this,"_setEventListeners",(function(){i._cardButtonlike.addEventListener("click",(function(){i._handleLikeToggle()})),i._cardButtonTrash.addEventListener("click",(function(){i._handleTrashButton()})),i._newCardPhoto.addEventListener("click",(function(){i._handleCardClick({link:i._link,name:i._name})}))})),this._name=c,this._link=l,this._cardTemplate=document.querySelector(r).content,this._handleCardClick=o,this._cardElement=this._cardTemplate.querySelector(".card__item").cloneNode(!0),this._cardButtonlike=this._cardElement.querySelector(".card__button-like"),this._cardButtonTrash=this._cardElement.querySelector(".card__button-trash"),this._newCardPhoto=this._cardElement.querySelector(".card__photo"),this._newCardTitle=this._cardElement.querySelector(".card__title")}var r,o;return r=e,(o=[{key:"_handleLikeToggle",value:function(){this._cardButtonlike.classList.toggle("card__button-like_liked")}},{key:"_handleTrashButton",value:function(){this._cardElement.remove(),this._cardElement=null}}])&&t(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=i((function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"enableValidation",(function(){r._setEventListeners()})),c(this,"_setEventListeners",(function(){r._toggleButtonState(r._inputList,r._buttonElement,r.config),r._inputList.forEach((function(e){e.addEventListener("input",(function(){r._checkInputValidity(e),r._toggleButtonState()}))}))})),c(this,"_toggleButtonState",(function(){r._hasInvalidInput(r._inputList)?(r._buttonElement.classList.add(r._inactiveButtonClass),r._buttonElement.setAttribute("disabled",!0)):(r._buttonElement.classList.remove(r._inactiveButtonClass),r._buttonElement.removeAttribute("disabled"))})),c(this,"_hasInvalidInput",(function(){return r._inputList.some((function(e){return!e.validity.valid}))})),c(this,"_checkInputValidity",(function(e){r._inputElement=e,e.validity.valid?r._hideInputError(r._inputElement):r._showInputError(r._formElement)})),c(this,"_hideInputError",(function(e){r._inputElement=e,r._errorElement=r._formElement.querySelector(".form__input-error_field_".concat(r._inputElement.name)),r._inputElement.classList.remove(r._inputErrorClass),r._errorElement.textContent=""})),c(this,"_showInputError",(function(e){r._errorElement=r._formElement.querySelector(".form__input-error_field_".concat(r._inputElement.name)),r._inputElement.classList.add(r._inputErrorClass),r._errorElement.textContent=r._inputElement.validationMessage,r._errorElement.classList.add(r._errorClass)})),c(this,"resetForm",(function(){r._inputList.forEach((function(e){r._hideInputError(e)})),r._toggleButtonState()})),this.config=t,this._formSelector=t.formSelector,this._formElement=n,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inputErrorClass=t.inputErrorClass,this._inactiveButtonClass=t.inactiveButtonClass,this._errorClass=t.errorClass,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector)}));function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){return t._renderer(e)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(t){var n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(e){"Escape"===e.code&&o.close()},(n="_handleEscClose")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this._selector=t}var t,n;return t=e,(n=[{key:"open",value:function(){this._selector.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._selector.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._selector.addEventListener("mousedown",(function(t){(t.target.classList.contains("popup_opened")||t.target.classList.contains("popup__button-close"))&&e.close()}))}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=y(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},d.apply(this,arguments)}function y(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function m(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(o){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e))._selector=e,t._cardLink=t._selector.querySelector(".popup__slide_link"),t._cardDesc=t._selector.querySelector(".popup__slide_desc"),t}return t=c,(n=[{key:"open",value:function(e){var t=e.link,n=e.name;this._cardLink.src=t,this._cardLink.alt=n,this._cardDesc.textContent=n,d(b(c.prototype),"open",this).call(this)}}])&&_(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(f);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=k(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},g.apply(this,arguments)}function k(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}function O(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=j(r);if(o){var n=j(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O(this,e)});function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=i.call(this,e))._selector=e,n._formSubmit=t,n._form=n._selector.querySelector(".form"),n._formData=n._selector.querySelectorAll(".form__input"),n}return t=c,(n=[{key:"close",value:function(){g(j(c.prototype),"close",this).call(this),this._form.reset()}},{key:"setEventListeners",value:function(){var e=this;g(j(c.prototype),"setEventListeners",this).call(this),this._selector.addEventListener("submit",(function(t){t.preventDefault(),e._formSubmit(e._getInputValues())}))}},{key:"_getInputValues",value:function(){var e=this;return this._inputValues={},this._formData.forEach((function(t){e._inputValues[t.name]=t.value})),this._inputValues}}])&&w(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(f);function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var P=function(){function e(t){var n=t.title,r=t.role;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formTitle=n,this._formRole=r}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{title:this._formTitle.textContent,role:this._formRole.textContent}}},{key:"setUserInfo",value:function(e){var t=e.title,n=e.role;this._formTitle.textContent=t,this._formRole.textContent=n}}])&&L(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.p,e.p;var q=document.querySelector(".profile__container"),T=q.querySelector(".profile__button-edit"),B=q.querySelector(".profile__button-add"),I=q.querySelector(".profile__title"),R=q.querySelector(".profile__text"),x=document.querySelector(".popup_profile-edit"),V=document.querySelector(".popup_new-place"),D=document.querySelector(".popup_card-show"),A=x.querySelector(".form__input_text_title"),F=x.querySelector(".form__input_text_subtitle"),U=V.querySelector(".form_new-place"),N=x.querySelector(".form_edit"),$={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__button-save",inactiveButtonClass:"form__button-save_disabled",inputErrorClass:"form__item_invalid",errorClass:"form__input-error"},z=new u({renderer:function(e){z.addItem(X(e))}},".card__list");z.renderItems([{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}]);var M=new l($,U);M.enableValidation();var G=new l($,N);G.enableValidation();var H=new C(x,(function(e){var t={title:e.formInputName,role:e.formInputRole};K.setUserInfo(t),H.close()}));H.setEventListeners();var J=new C(V,(function(e){z.addItem(X(e)),J.close()}));J.setEventListeners();var K=new P({title:I,role:R});T.addEventListener("click",(function(){H.open();var e=K.getUserInfo(),t=e.title,n=e.role;A.value=t,F.value=n,G.resetForm()})),B.addEventListener("click",(function(){U.reset(),M.resetForm(),J.open()}));var Q=new v(D);function W(e){Q.open(e)}function X(e){return new r(e,".card__template",W).generateCard()}Q.setEventListeners()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bGdpemFyLW1lc3RvL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2lsZ2l6YXItbWVzdG8vd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9pbGdpemFyLW1lc3RvL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL2lsZ2l6YXItbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL2lsZ2l6YXItbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL2lsZ2l6YXItbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL2lsZ2l6YXItbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9pbGdpemFyLW1lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vaWxnaXphci1tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vaWxnaXphci1tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL2lsZ2l6YXItbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vaWxnaXphci1tZXN0by8uL3NyYy91dGlscy9jYXJkcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJ2YXIgc2NyaXB0VXJsO1xuaWYgKF9fd2VicGFja19yZXF1aXJlX18uZy5pbXBvcnRTY3JpcHRzKSBzY3JpcHRVcmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcubG9jYXRpb24gKyBcIlwiO1xudmFyIGRvY3VtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmRvY3VtZW50O1xuaWYgKCFzY3JpcHRVcmwgJiYgZG9jdW1lbnQpIHtcblx0aWYgKGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmNcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSBzY3JpcHRVcmwgPSBzY3JpcHRzW3NjcmlwdHMubGVuZ3RoIC0gMV0uc3JjXG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmRzIHtcbiAgY29uc3RydWN0b3IoeyBuYW1lLCBsaW5rIH0sIGNhcmRUZW1wbGF0ZVNlbGVjdG9yLCBoYW5kbGVDYXJkQ2xpY2spIHtcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICB0aGlzLl9saW5rID0gbGluaztcbiAgICB0aGlzLl9jYXJkVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNhcmRUZW1wbGF0ZVNlbGVjdG9yKS5jb250ZW50O1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcblxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fY2FyZFRlbXBsYXRlXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pdGVtXCIpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuICAgIHRoaXMuX2NhcmRCdXR0b25saWtlID1cbiAgICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fYnV0dG9uLWxpa2VcIik7XG4gICAgdGhpcy5fY2FyZEJ1dHRvblRyYXNoID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLmNhcmRfX2J1dHRvbi10cmFzaFwiXG4gICAgKTtcbiAgICB0aGlzLl9uZXdDYXJkUGhvdG8gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3Bob3RvXCIpO1xuICAgIHRoaXMuX25ld0NhcmRUaXRsZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XG4gIH1cblxuICBnZW5lcmF0ZUNhcmQgPSAoKSA9PiB7XG4gICAgdGhpcy5fbmV3Q2FyZFBob3RvLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fbmV3Q2FyZFBob3RvLmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fbmV3Q2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcbiAgfTtcblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgdGhpcy5fY2FyZEJ1dHRvbmxpa2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VUb2dnbGUoKVxuICAgIH0pO1xuICAgIHRoaXMuX2NhcmRCdXR0b25UcmFzaC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlVHJhc2hCdXR0b24oKTtcbiAgICB9KTtcbiAgICB0aGlzLl9uZXdDYXJkUGhvdG8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh7IGxpbms6IHRoaXMuX2xpbmssIG5hbWU6IHRoaXMuX25hbWUgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgX2hhbmRsZUxpa2VUb2dnbGUoKXtcbiAgICB0aGlzLl9jYXJkQnV0dG9ubGlrZS5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fYnV0dG9uLWxpa2VfbGlrZWRcIik7XG4gIH1cblxuICBfaGFuZGxlVHJhc2hCdXR0b24oKXtcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IG51bGw7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5fZm9ybVNlbGVjdG9yID0gY29uZmlnLmZvcm1TZWxlY3RvcjtcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBjb25maWcuaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gY29uZmlnLmVycm9yQ2xhc3M7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcilcbiAgICApO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3JcbiAgICApO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbiA9ICgpID0+IHtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9O1xuXG4gIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSh0aGlzLl9pbnB1dExpc3QsIHRoaXMuX2J1dHRvbkVsZW1lbnQsIHRoaXMuY29uZmlnKTtcblxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIF90b2dnbGVCdXR0b25TdGF0ZSA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KHRoaXMuX2lucHV0TGlzdCkpIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gICAgfVxuICB9O1xuXG4gIF9oYXNJbnZhbGlkSW5wdXQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9O1xuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkgPSAoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgdGhpcy5faW5wdXRFbGVtZW50ID0gaW5wdXRFbGVtZW50O1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcih0aGlzLl9mb3JtRWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKHRoaXMuX2lucHV0RWxlbWVudCk7XG4gICAgfVxuICB9O1xuXG4gIF9oaWRlSW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnQgPSBpbnB1dEVsZW1lbnQ7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAuZm9ybV9faW5wdXQtZXJyb3JfZmllbGRfJHt0aGlzLl9pbnB1dEVsZW1lbnQubmFtZX1gXG4gICAgKTtcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIH07XG5cbiAgX3Nob3dJbnB1dEVycm9yID0gKGlucHV0RWxlbWVudCkgPT4ge1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgLmZvcm1fX2lucHV0LWVycm9yX2ZpZWxkXyR7dGhpcy5faW5wdXRFbGVtZW50Lm5hbWV9YFxuICAgICk7XG4gICAgdGhpcy5faW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSB0aGlzLl9pbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH07XG5cbiAgcmVzZXRGb3JtID0gKCkgPT4ge1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSk7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgfTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgc2VsZWN0b3IpIHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICB9XG5cbiAgICByZW5kZXJJdGVtcyhpdGVtcykge1xuICAgICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHRoaXMuX3JlbmRlcmVyKGl0ZW0pKVxuICAgIH1cblxuICAgIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gICAgfVxuICB9XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdG9yKSB7XG4gICAgdGhpcy5fc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fc2VsZWN0b3IuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9zZWxlY3Rvci5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3NlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2dCkgPT4ge1xuICAgICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9vcGVuZWRcIikgfHwgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBfX2J1dHRvbi1jbG9zZVwiKSkpIHtcbiAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xuICAgIGlmIChldnQuY29kZSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfTtcbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3IpIHtcbiAgICBzdXBlcihzZWxlY3Rvcik7XG4gICAgdGhpcy5fc2VsZWN0b3IgPSBzZWxlY3RvclxuICAgIHRoaXMuX2NhcmRMaW5rID0gdGhpcy5fc2VsZWN0b3IucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fc2xpZGVfbGlua1wiKTtcbiAgICB0aGlzLl9jYXJkRGVzYyA9IHRoaXMuX3NlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3NsaWRlX2Rlc2NcIik7XG4gIH1cblxuICBvcGVuKCB7IGxpbmssIG5hbWV9KSB7XG4gICAgdGhpcy5fY2FyZExpbmsuc3JjID0gbGluaztcbiAgICB0aGlzLl9jYXJkTGluay5hbHQgPSBuYW1lO1xuICAgIHRoaXMuX2NhcmREZXNjLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihzZWxlY3RvciwgZm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKHNlbGVjdG9yKTtcbiAgICB0aGlzLl9zZWxlY3RvciA9IHNlbGVjdG9yO1xuICAgIHRoaXMuX2Zvcm1TdWJtaXQgPSBmb3JtU3VibWl0O1xuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9zZWxlY3Rvci5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7XG4gICAgdGhpcy5fZm9ybURhdGEgPSB0aGlzLl9zZWxlY3Rvci5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1fX2lucHV0XCIpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX3NlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9mb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgIH0pO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIHRoaXMuX2lucHV0VmFsdWVzID0ge307XG4gICAgdGhpcy5fZm9ybURhdGEuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgdGhpcy5faW5wdXRWYWx1ZXNbaXRlbS5uYW1lXSA9IGl0ZW0udmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0VmFsdWVzO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gICAgY29uc3RydWN0b3Ioe3RpdGxlLCByb2xlfSkge1xuICAgICAgICB0aGlzLl9mb3JtVGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy5fZm9ybVJvbGUgPSByb2xlO1xuICAgIH1cbiAgICBnZXRVc2VySW5mbygpIHtcbiAgICAgIGNvbnN0IHVzZXJJbmZvID0ge1xuICAgICAgICB0aXRsZTogdGhpcy5fZm9ybVRpdGxlLnRleHRDb250ZW50LFxuICAgICAgICByb2xlOiB0aGlzLl9mb3JtUm9sZS50ZXh0Q29udGVudCxcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiB1c2VySW5mbztcbiAgICB9XG4gICAgc2V0VXNlckluZm8oIHt0aXRsZSwgcm9sZX0gKSB7XG4gICAgICB0aGlzLl9mb3JtVGl0bGUudGV4dENvbnRlbnQgPSB0aXRsZTtcbiAgICAgIHRoaXMuX2Zvcm1Sb2xlLnRleHRDb250ZW50ID0gcm9sZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuaW1wb3J0IENhcmRzIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQgeyBpbml0aWFsQ2FyZHMgfSBmcm9tIFwiLi4vdXRpbHMvY2FyZHMuanNcIjtcbmltcG9ydCBpbWFnZSBmcm9tIFwiLi4vaW1hZ2VzL2NvbnRlbnQvYXZhdGFyL2ltYWdlLmpwZ1wiO1xuaW1wb3J0IGxvZ28gZnJvbSBcIi4uL2ltYWdlcy9sb2dvL2xvZ28uc3ZnXCI7XG5cbmNvbnN0IHByb2ZpbGVDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2NvbnRhaW5lclwiKTtcbmNvbnN0IGJ1dHRvbkVkaXQgPSBwcm9maWxlQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYnV0dG9uLWVkaXRcIik7XG5jb25zdCBidXR0b25BZGQgPSBwcm9maWxlQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYnV0dG9uLWFkZFwiKTtcbmNvbnN0IHByb2ZpbGVUaXRsZSA9IHByb2ZpbGVDb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX190aXRsZVwiKTtcbmNvbnN0IHByb2ZpbGVSb2xlID0gcHJvZmlsZUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3RleHRcIik7XG5cbmNvbnN0IHBvcHVwUHJvZmlsZUVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3Byb2ZpbGUtZWRpdFwiKTtcbmNvbnN0IHBvcHVwTmV3UGxhY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX25ldy1wbGFjZVwiKTtcbmNvbnN0IHBvcHVwQ2FyZFNob3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX2NhcmQtc2hvd1wiKTtcbmNvbnN0IGZvcm1UaXRsZSA9IHBvcHVwUHJvZmlsZUVkaXQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19pbnB1dF90ZXh0X3RpdGxlXCIpO1xuY29uc3QgZm9ybVJvbGUgPSBwb3B1cFByb2ZpbGVFZGl0LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9faW5wdXRfdGV4dF9zdWJ0aXRsZVwiKTtcbmNvbnN0IHBvcHVwRm9ybVBsYWNlID0gcG9wdXBOZXdQbGFjZS5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fbmV3LXBsYWNlXCIpO1xuY29uc3QgcG9wdXBGb3JtRWRpdCA9IHBvcHVwUHJvZmlsZUVkaXQucXVlcnlTZWxlY3RvcihcIi5mb3JtX2VkaXRcIik7XG5jb25zdCBjYXJkTGlzdFNlY3Rpb24gPSBcIi5jYXJkX19saXN0XCI7XG5cbmNvbnN0IGZvcm1zQ29uZmlnID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLmZvcm1cIixcbiAgaW5wdXRTZWxlY3RvcjogXCIuZm9ybV9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLmZvcm1fX2J1dHRvbi1zYXZlXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwiZm9ybV9fYnV0dG9uLXNhdmVfZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcImZvcm1fX2l0ZW1faW52YWxpZFwiLFxuICBlcnJvckNsYXNzOiBcImZvcm1fX2lucHV0LWVycm9yXCIsXG59O1xuXG5jb25zdCBjYXJkc0xpc3QgPSBuZXcgU2VjdGlvbihcbiAge1xuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgICAgY2FyZHNMaXN0LmFkZEl0ZW0oaGFuZGxlQ2FyZENyZWF0ZShpdGVtKSk7XG4gICAgfSxcbiAgfSxcbiAgY2FyZExpc3RTZWN0aW9uXG4pO1xuXG5jYXJkc0xpc3QucmVuZGVySXRlbXMoaW5pdGlhbENhcmRzKTtcblxuY29uc3QgbmV3UGxhY2VWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3Jtc0NvbmZpZywgcG9wdXBGb3JtUGxhY2UpO1xubmV3UGxhY2VWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCBlZGl0VmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybXNDb25maWcsIHBvcHVwRm9ybUVkaXQpO1xuZWRpdFZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IHByb2ZpbGVFZGl0ID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIHBvcHVwUHJvZmlsZUVkaXQsXG4gIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0XG4pO1xucHJvZmlsZUVkaXQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmNvbnN0IG5ld1BsYWNlID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBOZXdQbGFjZSwgaGFuZGxlUGxhY2VGb3JtU3VibWl0KTtcbm5ld1BsYWNlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7IHRpdGxlOiBwcm9maWxlVGl0bGUsIHJvbGU6IHByb2ZpbGVSb2xlIH0pO1xuXG5idXR0b25FZGl0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHByb2ZpbGVFZGl0Lm9wZW4oKTtcbiAgY29uc3QgeyB0aXRsZSwgcm9sZSB9ID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgZm9ybVRpdGxlLnZhbHVlID0gdGl0bGU7XG4gIGZvcm1Sb2xlLnZhbHVlID0gcm9sZTtcbiAgZWRpdFZhbGlkYXRvci5yZXNldEZvcm0oKTtcbn0pO1xuXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCh7IGZvcm1JbnB1dE5hbWUsIGZvcm1JbnB1dFJvbGUgfSkge1xuICBjb25zdCBzZXRJbmZvRGF0YSA9IHsgdGl0bGU6IGZvcm1JbnB1dE5hbWUsIHJvbGU6IGZvcm1JbnB1dFJvbGUgfTtcbiAgdXNlckluZm8uc2V0VXNlckluZm8oc2V0SW5mb0RhdGEpO1xuICBwcm9maWxlRWRpdC5jbG9zZSgpO1xufVxuZnVuY3Rpb24gaGFuZGxlUGxhY2VGb3JtU3VibWl0KGRhdGEpIHtcbiAgY2FyZHNMaXN0LmFkZEl0ZW0oaGFuZGxlQ2FyZENyZWF0ZShkYXRhKSk7XG4gIG5ld1BsYWNlLmNsb3NlKCk7XG59XG5cbmJ1dHRvbkFkZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBwb3B1cEZvcm1QbGFjZS5yZXNldCgpO1xuICBuZXdQbGFjZVZhbGlkYXRvci5yZXNldEZvcm0oKTtcbiAgbmV3UGxhY2Uub3BlbigpO1xufSk7XG5cbmNvbnN0IGNhcmRTaG93ID0gbmV3IFBvcHVwV2l0aEltYWdlKHBvcHVwQ2FyZFNob3cpO1xuY2FyZFNob3cuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmZ1bmN0aW9uIGhhbmRsZUNhcmRDbGljayhpdGVtKSB7XG4gIGNhcmRTaG93Lm9wZW4oaXRlbSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUNhcmRDcmVhdGUoaXRlbSkge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmRzKGl0ZW0sIFwiLmNhcmRfX3RlbXBsYXRlXCIsIGhhbmRsZUNhcmRDbGljayk7XG4gIHJldHVybiBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xufVxuIiwiZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAgICB7XG4gICAgICBuYW1lOiBcItCQ0YDRhdGL0LdcIixcbiAgICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2Fya2h5ei5qcGdcIixcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6IFwi0KfQtdC70Y/QsdC40L3RgdC60LDRjyDQvtCx0LvQsNGB0YLRjFwiLFxuICAgICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvY2hlbHlhYmluc2stb2JsYXN0LmpwZ1wiLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogXCLQmNCy0LDQvdC+0LLQvlwiLFxuICAgICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvaXZhbm92by5qcGdcIixcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6IFwi0JrQsNC80YfQsNGC0LrQsFwiLFxuICAgICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2FtY2hhdGthLmpwZ1wiLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogXCLQpdC+0LvQvNC+0LPQvtGA0YHQutC40Lkg0YDQsNC50L7QvVwiLFxuICAgICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2hvbG1vZ29yc2t5LXJheW9uLmpwZ1wiLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogXCLQkdCw0LnQutCw0LtcIixcbiAgICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2JhaWthbC5qcGdcIixcbiAgICB9LFxuICBdO1xuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJnIiwiZ2xvYmFsVGhpcyIsInRoaXMiLCJGdW5jdGlvbiIsImUiLCJ3aW5kb3ciLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwibG9jYXRpb24iLCJkb2N1bWVudCIsImN1cnJlbnRTY3JpcHQiLCJzcmMiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJsZW5ndGgiLCJFcnJvciIsInJlcGxhY2UiLCJwIiwiQ2FyZHMiLCJjYXJkVGVtcGxhdGVTZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsIm5hbWUiLCJsaW5rIiwiX25ld0NhcmRQaG90byIsIl9saW5rIiwiYWx0IiwiX25hbWUiLCJfbmV3Q2FyZFRpdGxlIiwidGV4dENvbnRlbnQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfY2FyZEVsZW1lbnQiLCJfY2FyZEJ1dHRvbmxpa2UiLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUxpa2VUb2dnbGUiLCJfY2FyZEJ1dHRvblRyYXNoIiwiX2hhbmRsZVRyYXNoQnV0dG9uIiwiX2hhbmRsZUNhcmRDbGljayIsIl9jYXJkVGVtcGxhdGUiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInJlbW92ZSIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtRWxlbWVudCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9pbnB1dExpc3QiLCJfYnV0dG9uRWxlbWVudCIsImZvckVhY2giLCJpbnB1dEVsZW1lbnQiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX2hhc0ludmFsaWRJbnB1dCIsImFkZCIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwic29tZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaW5wdXRFbGVtZW50IiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwiX2Zvcm1FbGVtZW50IiwiX2Vycm9yRWxlbWVudCIsIl9pbnB1dEVycm9yQ2xhc3MiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9lcnJvckNsYXNzIiwiX2Zvcm1TZWxlY3RvciIsImZvcm1TZWxlY3RvciIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5wdXRFcnJvckNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImVycm9yQ2xhc3MiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiU2VjdGlvbiIsInNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbXMiLCJpdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJQb3B1cCIsImV2dCIsImNvZGUiLCJjbG9zZSIsIl9zZWxlY3RvciIsIl9oYW5kbGVFc2NDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEltYWdlIiwiX2NhcmRMaW5rIiwiX2NhcmREZXNjIiwiUG9wdXBXaXRoRm9ybSIsImZvcm1TdWJtaXQiLCJfZm9ybVN1Ym1pdCIsIl9mb3JtIiwiX2Zvcm1EYXRhIiwicmVzZXQiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsIl9pbnB1dFZhbHVlcyIsInZhbHVlIiwiVXNlckluZm8iLCJ0aXRsZSIsInJvbGUiLCJfZm9ybVRpdGxlIiwiX2Zvcm1Sb2xlIiwicHJvZmlsZUNvbnRhaW5lciIsImJ1dHRvbkVkaXQiLCJidXR0b25BZGQiLCJwcm9maWxlVGl0bGUiLCJwcm9maWxlUm9sZSIsInBvcHVwUHJvZmlsZUVkaXQiLCJwb3B1cE5ld1BsYWNlIiwicG9wdXBDYXJkU2hvdyIsImZvcm1UaXRsZSIsImZvcm1Sb2xlIiwicG9wdXBGb3JtUGxhY2UiLCJwb3B1cEZvcm1FZGl0IiwiZm9ybXNDb25maWciLCJjYXJkc0xpc3QiLCJhZGRJdGVtIiwiaGFuZGxlQ2FyZENyZWF0ZSIsInJlbmRlckl0ZW1zIiwibmV3UGxhY2VWYWxpZGF0b3IiLCJlbmFibGVWYWxpZGF0aW9uIiwiZWRpdFZhbGlkYXRvciIsInByb2ZpbGVFZGl0Iiwic2V0SW5mb0RhdGEiLCJmb3JtSW5wdXROYW1lIiwiZm9ybUlucHV0Um9sZSIsInVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJzZXRFdmVudExpc3RlbmVycyIsIm5ld1BsYWNlIiwiZGF0YSIsIm9wZW4iLCJnZXRVc2VySW5mbyIsInJlc2V0Rm9ybSIsImNhcmRTaG93IiwiZ2VuZXJhdGVDYXJkIl0sInNvdXJjZVJvb3QiOiIifQ==